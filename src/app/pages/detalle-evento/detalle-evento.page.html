<app-encabezado></app-encabezado>

<ion-content [fullscreen]="true" scroll-y="true" class="fondo-negro">

  <ion-button fill="clear" class="boton-volver" (click)="volverAtras()">
    <ion-icon name="arrow-back"></ion-icon>
  </ion-button>

  <div class="contenedor-evento">
    <ion-card class="card-monster" *ngIf="evento">
      <ion-card-header>
        <ion-card-title class="titulo-monster">🎮 {{ evento.nombre_evento }}</ion-card-title>
        <ion-card-subtitle class="subtitulo-monster">Creado por: [ {{ evento.creado_por }} ]</ion-card-subtitle>

        <!-- Estado con luz -->
        <div class="estado-luz-texto">
          <div class="estado-indicador" [ngClass]="{
            'verde': evento.estado === 'DISPONIBLE',
            'amarillo': evento.estado === 'EN CURSO',
            'rojo': evento.estado === 'FINALIZADO',
            'naranja': evento.estado === 'SIN CUPOS'
          }"></div>

          <div class="estado-texto" [ngClass]="{
            'texto-verde': evento.estado === 'DISPONIBLE',
            'texto-amarillo': evento.estado === 'EN CURSO',
            'texto-rojo': evento.estado === 'FINALIZADO',
            'texto-naranja': evento.estado === 'SIN CUPOS'
          }">
            Estado: {{ evento.estado }}
          </div>
        </div>
      </ion-card-header>

      <ion-card-content class="contenido-scroll">
        <div class="contenido-evento">
          <div class="campo-evento campo-descripcion">
            <label>📝 Descripción</label>
            <p>{{ evento.descripcion }}</p>
          </div>

          <div class="fila-doble">
            <div class="campo-evento">
              <label>📍 Lugar</label>
              <p>{{ evento.lugar }}</p>
            </div>
            <div class="campo-evento">
              <label>🕒 Fecha Inicio</label>
              <p>{{ evento.fechaInicio | date: 'short' }}</p>
            </div>
          </div>

          <div class="fila-doble">
            <div class="campo-evento">
              <label>🎮 Tipo de Evento</label>
              <p>{{ evento.tipo_evento }}</p>
            </div>
            <div class="campo-evento">
              <label>👥 Cupos</label>
              <p>{{ evento.cupos }}</p>
            </div>
          </div>
        </div>

        <!-- Botón deslizable -->
        <div class="swipe-button-container" *ngIf="!gestureEjecutado" #swipeArea>
          <div class="swipe-track">
            <div class="swipe-fill" #swipeFill></div>
            <div class="swipe-thumb" #swipeThumb>
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </div>
            <span class="swipe-text" #swipeText>Desliza para tomar evento</span>
          </div>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>

<app-navbar></app-navbar>
